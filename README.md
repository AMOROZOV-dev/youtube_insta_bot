## Telegram бот для скачивания видео (YouTube/Instagram)

Функции:
- Отправьте ссылку в группу (бот должен быть участником, с правом удаления сообщений) — бот удалит исходное сообщение и отправит видео.
- Отправьте ссылку боту в личные сообщения — бот ответит видео.

Поддерживаются ссылки YouTube и Instagram. Загрузка реализована через `yt-dlp`.

### Запуск через Docker Compose

1) Создайте файл `.env` рядом с `docker-compose.yml` и укажите токен бота:

```
BOT_TOKEN=123456789:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
# при необходимости:
# YTDLP_COOKIES=/app/cookies.txt
# YTDLP_UA=Mozilla/5.0 (...ваш кастомный UA...)
```

2) Запустите:

```
docker compose up -d --build
```

Видео и временные файлы будут сохраняться в каталоге `./downloads` (примонтирован в контейнер как `/downloads`).

### Cookies и обход ограничений YouTube
YouTube может требовать авторизацию или проверку. Для стабильной работы:
- Экспортируйте cookies из вашего браузера в формат Netscape (например, расширением "Get cookies.txt").
- Положите файл рядом с `docker-compose.yml` как `cookies.txt` и раскомментируйте маунт в `docker-compose.yml`:
```
# - ./cookies.txt:/app/cookies.txt:ro
```
- Добавьте в `.env` путь внутри контейнера:
```
YTDLP_COOKIES=/app/cookies.txt
```
- При необходимости укажите свой `YTDLP_UA`.

### Права бота в группе
Чтобы бот мог удалить ваше исходное сообщение в группе, дайте боту право на удаление сообщений. Если права нет — бот просто отправит видео, не удаляя исходное сообщение.

### Ограничения Telegram
Если видео слишком большое для загрузки ботом, бот отправит сообщение с исходной ссылкой.